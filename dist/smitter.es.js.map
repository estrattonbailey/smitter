{"version":3,"file":"smitter.es.js","sources":["../index.js"],"sourcesContent":["export default function smitter() {\n  let all = {}\n\n  return {\n    emit(type, data) {\n      return all[type] ? all[type].map((fn) => fn(data)) : []\n    },\n    on(type, fn) {\n      all[type] = (all[type] || []).concat(fn)\n      let removed = false\n      return () => {\n        if (!removed) {\n          removed = true\n          all[type].splice(all[type].indexOf(fn), 1)\n        }\n      }\n    },\n  }\n}\n"],"names":["all","emit","type","data","map","fn","on","concat","removed","splice","indexOf"],"mappings":"0BACE,IAAIA,EAAM,GAEV,MAAO,CACLC,cAAKC,EAAMC,GACT,OAAOH,EAAIE,GAAQF,EAAIE,GAAME,IAAI,SAACC,UAAOA,EAAGF,KAAS,IAEvDG,YAAGJ,EAAMG,GACPL,EAAIE,IAASF,EAAIE,IAAS,IAAIK,OAAOF,GACrC,IAAIG,GAAU,EACd,kBACOA,IACHA,GAAU,EACVR,EAAIE,GAAMO,OAAOT,EAAIE,GAAMQ,QAAQL,GAAK"}