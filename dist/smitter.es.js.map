{"version":3,"file":"smitter.es.js","sources":["../index.js"],"sourcesContent":["export default function smitter() {\n  let all = {}\n\n  return {\n    emit(type, data) {\n      all[type] && all[type].map((fn) => fn(data))\n    },\n    on(type, fn) {\n      all[type] = (all[type] || []).concat(fn)\n      let executed = false\n      return () => {\n        if (!executed) {\n          executed = true\n          all[type].splice(all[type].indexOf(fn), 1)\n        }\n      }\n    },\n  }\n}\n"],"names":["all","emit","type","data","map","fn","on","concat","executed","splice","indexOf"],"mappings":"0BACE,IAAIA,EAAM,GAEV,MAAO,CACLC,cAAKC,EAAMC,GACTH,EAAIE,IAASF,EAAIE,GAAME,IAAI,SAACC,UAAOA,EAAGF,MAExCG,YAAGJ,EAAMG,GACPL,EAAIE,IAASF,EAAIE,IAAS,IAAIK,OAAOF,GACrC,IAAIG,GAAW,EACf,kBACOA,IACHA,GAAW,EACXR,EAAIE,GAAMO,OAAOT,EAAIE,GAAMQ,QAAQL,GAAK"}