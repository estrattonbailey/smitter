{"version":3,"file":"smitter.modern.js","sources":["../index.js"],"sourcesContent":["export default function smitter() {\n  let all = {}\n\n  return {\n    emit(type, data) {\n      return all[type] ? all[type].map((fn) => fn(data)) : []\n    },\n    on(type, fn) {\n      all[type] = (all[type] || []).concat(fn)\n      let removed = false\n      return () => {\n        if (!removed) {\n          removed = true\n          all[type].splice(all[type].indexOf(fn), 1)\n        }\n      }\n    },\n  }\n}\n"],"names":["all","emit","type","data","map","fn","on","concat","removed","splice","indexOf"],"mappings":"0BACE,IAAIA,EAAM,GAEV,MAAO,CACLC,KAAI,CAACC,EAAMC,IACFH,EAAIE,GAAQF,EAAIE,GAAME,IAAKC,GAAOA,EAAGF,IAAS,GAEvDG,GAAGJ,EAAMG,GACPL,EAAIE,IAASF,EAAIE,IAAS,IAAIK,OAAOF,GACrC,IAAIG,GAAU,EACd,MAAO,KACAA,IACHA,GAAU,EACVR,EAAIE,GAAMO,OAAOT,EAAIE,GAAMQ,QAAQL,GAAK"}